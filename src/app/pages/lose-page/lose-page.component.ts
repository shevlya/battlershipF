import { Component, OnInit } from '@angular/core';
import { Router, RouterModule } from '@angular/router';
import { CommonModule } from '@angular/common';

/**
 * Компонент страницы проигрыша
 * 
 * Назначение:
 * - Отображение экрана поражения после проигрыша в битве
 * - Воспроизведение анимации проигрыша
 * - Предоставление возможности вернуться в лобби для новой игры
 * 
 * Особенности:
 * - Анимационные эффекты для визуального отображения поражения
 * - Быстрый переход к следующей игре
 * 
 * @component
 * @selector app-lose-page
 */
@Component({
  selector: 'app-lose-page',
  standalone: true,
  imports: [RouterModule, CommonModule],
  templateUrl: './lose-page.component.html',
  styleUrl: './lose-page.component.scss'
})
export class LosePageComponent implements OnInit {

  /**
   * Конструктор компонента
   * @param router - Сервис маршрутизации для навигации между страницами
   */
  constructor(private router: Router) {}

  /**
   * Метод инициализации компонента
   * Вызывается автоматически при создании компонента
   * 
   * Выполняемые действия:
   * - Запуск анимации проигрыша для визуальной обратной связи
   */
  ngOnInit() {
    this.playLoseAnimation();
  }

  /**
   * Навигация обратно в лобби для начала новой игры
   * 
   * Процесс:
   * 1. Логирование действия для отладки
   * 2. Перенаправление пользователя на страницу лобби
   * 3. Сброс состояния игры и подготовка к новой сессии
   * 
   * Использование:
   * - Вызывается при клике на кнопку "Вернуться в лобби"
   */
  goToLobby() {
    console.log('Возврат в лобби после проигрыша');
    this.router.navigate(['/lobby']);
  }

  /**
   * Запуск анимации проигрыша
   * 
   * Текущая реализация:
   * - Заглушка для будущей анимационной системы
   * - Логирование события для отладки
   * 
   * TODO: Если будет время, то будет анимация проигрыша
   * - Визуальные эффекты (затемнение, мигание)
   * - Анимация текста "Поражение"
   * 
   * Пока вроде и кот не плох, с интерактивным кружком 
   */
  playLoseAnimation() {
    console.log('Запуск анимации проигрыша');
  }
}