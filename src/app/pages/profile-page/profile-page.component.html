<div class="profile-container">
    <div class="profile-card">
        <h2>Профиль пользователя</h2>
        
        <!-- Отладочная информация -->
        <!--- <div *ngIf="user.avatarUrl" style="color: green; font-size: 12px; margin-bottom: 10px;">
            Аватар в данных: {{ user.avatarUrl }}
        </div>
        <div *ngIf="!user.avatarUrl" style="color: orange; font-size: 12px; margin-bottom: 10px;">
            Аватар не установлен
        </div> --->
        
        <div class="profile-content">
            <div class="avatar-section">
                <div class="avatar-circle">
                    <!-- Используем avatarUrl вместо avatar_url -->
                    <img [src]="getAvatarPath(user.avatarUrl)" alt="Аватар" class="avatar-image" *ngIf="user.avatarUrl">
                    <div class="avatar-placeholder" *ngIf="!user.avatarUrl">
                        {{ getInitials() }}
                    </div>
                </div>
                <div class="username">{{ user.nickname }}</div>
            </div>
            
            <div class="stats-section">
                <div class="stat-item">
                    <span class="stat-label">Общее количество сыгранных игр:</span>
                    <span class="stat-value">{{ user.totalGames }}</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Количество побед:</span>
                    <span class="stat-value">{{ user.wins }}</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Количество поражений:</span>
                    <span class="stat-value">{{ user.losses }}</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Количество сохраненных расстановок:</span>
                    <span class="stat-value">{{ user.savedLayouts }}</span>
                </div>
            </div>
        </div>
        
        <div class="profile-actions">
            <button class="btn-action" (click)="changeAvatar()">Сменить аватар</button>
            <button class="btn-action" (click)="changePassword()">Сменить пароль</button>
            <button class="btn-action btn-logout" (click)="logout()">Выйти из аккаунта</button>
        </div>
    </div>
    
    <button class="lobby-button" routerLink="/lobby">Вернуться в лобби</button>
</div>